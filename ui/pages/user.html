<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>iFL03 - User</title>
	<link rel="stylesheet" href="../dist/styles.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body class="h-dvh overflow-hidden bg-[#000000] text-[#a8a8a8] flex">
	<!-- Sidebar -->
	<aside class="w-56 bg-[#121212] flex flex-col justify-between m-2 rounded-xl">
		<!-- Top navigation -->
		<nav class="p-4 space-y-2">
			<a href="../index.html" class="block rounded-lg px-3 py-2 text-slate-200 hover:bg-[#1f1f1f]" id="nav-home">Home</a>
			<a href="overlays.html" class="block rounded-lg px-3 py-2 text-slate-200 hover:bg-[#1f1f1f]" id="nav-overlays">Overlays</a>
			<a href="ui-edit.html" class="block rounded-lg px-3 py-2 text-slate-200 hover:bg-[#1f1f1f]" id="nav-ui-edit">Preview</a>
			<a href="car-configs.html" class="block rounded-lg px-3 py-2 text-slate-200 hover:bg-[#1f1f1f]" id="nav-car-configs">Car Configs</a>
		</nav>

		<!-- Bottom actions -->
		<div class="p-4 space-y-2">
			<a href="user.html" class="block rounded-lg px-3 py-2 text-slate-200 hover:bg-[#1f1f1f] bg-[#1f1f1f]" id="nav-user">User</a>
			<a href="settings.html" class="block rounded-lg px-3 py-2 text-slate-200 hover:bg-[#1f1f1f]" id="nav-settings">Settings</a>
		</div>
	</aside>

	<!-- Main content -->
	<div class="flex-1 flex flex-col min-h-0">
		<header class="sticky top-0 z-10 bg-[#121212] m-2 rounded-xl">
			<div class="mx-auto max-w-4xl px-4 py-3 flex items-center justify-between">
				<h1 class="text-lg font-semibold tracking-tight">User</h1>
				<span id="conn" class="inline-flex items-center gap-2 text-sm text-[#a8a8a8]">
					<span class="size-2 rounded-full bg-[#a8a8a8]" id="connDot"></span>
					<span class="text-sm text-[#a8a8a8]">iRacing status:</span>
					<span id="connText">UNKNOWN</span>
				</span>
			</div>
		</header>

		<main class="flex-1 overflow-y-auto mx-auto w-full max-w-4xl px-4 py-6 space-y-6">
			<!-- Other Drivers -->
			<section class="rounded-xl bg-[#121212] p-6 space-y-6">
				<h2 class="text-lg font-semibold text-slate-100">Other Drivers</h2>

				<!-- Buddies / Flagged Lists -->
				<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
					<div>
						<h3 class="text-sm font-medium text-[#a8a8a8] mb-2">Buddies</h3>
						<div id="buddies-list" class="space-y-2"></div>
						<div class="flex gap-2 mt-3">
							<input id="buddies-input" type="text" placeholder="Add driver name..." class="flex-1 px-3 py-2 bg-[#1f1f1f] rounded-lg text-slate-100 focus:ring-2 focus:ring-green-500 focus:border-transparent" />
							<button id="buddies-add" class="px-3 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-lg">Add</button>
						</div>
					</div>
					<div>
						<h3 class="text-sm font-medium text-[#a8a8a8] mb-2">Flagged Drivers</h3>
						<div id="flagged-list" class="space-y-2"></div>
						<div class="flex gap-2 mt-3">
							<input id="flagged-input" type="text" placeholder="Add driver name..." class="flex-1 px-3 py-2 bg-[#1f1f1f] rounded-lg text-slate-100 focus:ring-2 focus:ring-red-500 focus:border-transparent" />
							<button id="flagged-add" class="px-3 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-lg">Add</button>
						</div>
					</div>
				</div>
			</section>

			<!-- Ghost Telemetry -->
			<section class="rounded-xl bg-[#121212] p-6 space-y-4">
				<h2 class="text-lg font-semibold text-slate-100">Ghost Telemetry</h2>
				<div class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
					<div class="md:col-span-2">
						<label class="block text-sm font-medium text-[#a8a8a8] mb-2">Select CSV from assets/tracks/telemetry</label>
						<select id="ghostTelemetrySelect" class="w-full rounded-lg bg-[#1f1f1f] px-3 py-2 text-slate-200"></select>
						<p class="text-xs text-[#a8a8a8] mt-2">The selected file will be used for live ghost input comparison in Inputs overlay.</p>
					</div>
					<div class="space-y-3">
						<label class="flex items-center justify-between gap-4 rounded-lg bg-[#1f1f1f] px-3 py-2">
							<span class="text-slate-200">Show Ghost Data (Inputs)</span>
							<span class="relative inline-flex h-6 w-11 items-center">
								<input type="checkbox" id="ghostShowToggle" class="peer sr-only" />
								<span class="block h-6 w-11 rounded-full bg-slate-600 transition-colors duration-200 ease-in-out peer-checked:bg-green-600"></span>
								<span class="pointer-events-none absolute left-0 top-0.5 ml-0.5 h-5 w-5 rounded-full bg-white shadow translate-x-0 transition-transform duration-200 ease-in-out peer-checked:translate-x-[1.25rem]"></span>
							</span>
						</label>
					</div>
				</div>
			</section>

			<!-- UI Preferences -->
			<section class="rounded-xl bg-[#121212] p-6 space-y-4">
				<h2 class="text-lg font-semibold text-slate-100">UI Preferences</h2>
				<label class="flex items-center justify-between gap-4 rounded-lg bg-[#1f1f1f] px-3 py-2">
					<span class="text-slate-200">Show “How do I use the overlays?” section</span>
					<span class="relative inline-flex h-6 w-11 items-center">
						<input type="checkbox" id="toggle-overlays-help" class="peer sr-only" />
						<span class="block h-6 w-11 rounded-full bg-slate-600 transition-colors duration-200 ease-in-out peer-checked:bg-green-600"></span>
						<span class="pointer-events-none absolute left-0 top-0.5 ml-0.5 h-5 w-5 rounded-full bg-white shadow translate-x-0 transition-transform duration-200 ease-in-out peer-checked:translate-x-[1.25rem]"></span>
					</span>
				</label>
				<p class="text-xs text-[#a8a8a8]">Controls the help panel at the top of the Overlays page.</p>
			</section>

			<!-- Status Messages -->
			<div id="statusMessage" class="hidden rounded-lg p-4">
				<div id="statusText" class="text-sm font-medium"></div>
			</div>
		</main>
	</div>
	<script src="../scripts/user.js"></script>
</body>
</html>
